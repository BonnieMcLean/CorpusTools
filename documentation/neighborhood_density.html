<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

    <title>String similarity and neighbourhood density &mdash; Phonological CorpusTools 1.0.0 documentation</title>

    <link rel="stylesheet" href="static/default.css" type="text/css" />
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />

    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="static/jquery.js"></script>
    <script type="text/javascript" src="static/underscore.js"></script>
    <script type="text/javascript" src="static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="top" title="Phonological CorpusTools 1.0.0 documentation" href="index.html" />
    <link rel="next" title="Frequency of alternation" href="frequency_of_alternation.html" />
    <link rel="prev" title="String similarity and neighbourhood density" href="string_similarity.html" />
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="frequency_of_alternation.html" title="Frequency of alternation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="string_similarity.html" title="String similarity and neighbourhood density"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Phonological CorpusTools 1.0.0 documentation</a> &raquo;</li>
      </ul>
    </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">

  <div class="section" id="string-similarity-and-neighbourhood-density">
<span id="neighborhood-density"></span><h1>String similarity and neighbourhood density<a class="headerlink" href="#string-similarity-and-neighbourhood-density" title="Permalink to this headline">¶</a></h1>
<div class="section" id="about-the-functions">
<span id="about-neighborhood-density"></span><h2>About the functions<a class="headerlink" href="#about-the-functions" title="Permalink to this headline">¶</a></h2>
<p>Some measures of <em class="xref std std-ref">string similarity</em> are used to calculate neighbourhood
density (e.g. <a class="reference internal" href="references.html#greenberg1964" id="id1">[Greenberg1964]</a>; <a class="reference internal" href="references.html#luce1998" id="id2">[Luce1998]</a>; <a class="reference internal" href="references.html#yao2011" id="id3">[Yao2011]</a>),
which has been shown to affect phonological processing. A phonological
“neighbor” of some word X is a word that is similar in some close way
to X. For example, it might differ by maximally one phone (through deletion,
addition, or subsitution) from X. X’s neighborhood density, then, is the
number of words that fit the criterion for being a neighbour.</p>
</div>
<div class="section" id="method-of-calculation-neighbourhood-density">
<span id="method-neighborhood-density"></span><h2>Method of calculation: Neighbourhood density<a class="headerlink" href="#method-of-calculation-neighbourhood-density" title="Permalink to this headline">¶</a></h2>
<p>A word&#8217;s neighborhood density is equal to the number of other words in the
corpus similar to that word (or, if using token frequencies, the sum of
those words&#8217; counts). The threshold that defines whether two words are
considered similar to each other can be&nbsp;calculated using any of the three
distance metrics described in <a class="reference internal" href="string_similarity.html#method-string-similarity"><em>Method of calculation: String similarity</em></a>: Levenshtein edit distance,
phonological edit distance, or Khorsi (2012) similarity. As implemented
in PCT, for a query word, each other word in the corpus is checked for
its similarity to the query word and then added to a list of neighbors
if sufficiently similar.</p>
<p>For further detail about the available distance/similarity metrics,
refer to <a class="reference internal" href="string_similarity.html#method-string-similarity"><em>Method of calculation: String similarity</em></a>.</p>
</div>
<div class="section" id="implementing-the-neighbourhood-density-function-in-the-gui">
<span id="neighborhood-density-gui"></span><h2>Implementing the neighbourhood density function in the GUI<a class="headerlink" href="#implementing-the-neighbourhood-density-function-in-the-gui" title="Permalink to this headline">¶</a></h2>
<p>To start the analysis, click on “Analysis” / “Calculate neighbourhood
density...” in the main menu, and then follow these steps:</p>
<ol class="arabic simple">
<li><strong>String similarity algorithm</strong>: The first step is to choose which of the
three methods of string similarity is to be used to calculate
neighbourhood density. Note that the standard way of calculating
density is using standard Levenstein edit distance. We include the
other two algorithms here as options primarily for the purpose of
allowing users to explore whether they might be useful measures; we
make no claims that either phonological edit distance or the Khorsi
algorithm might be better than edit distance for any reason.<ol class="loweralpha">
<li><strong>Minimal pair counts / Substitution neighbours</strong>: It is also possible to
calculate neighbourhood density by using a variation of edit distance
that allows for “substitutions only” (not deletions or insertions).
This is particularly useful if, for example, you wish to know the
number of or identity of all minimal pairs for a given word in the
corpus, as minimal pairs are generally assumed to be substitution
neighbours with an edit distance of 1. (Note that the substitution
neighbours algorithm automatically assumes a threshold of 1; multiple
substitutions are not allowed.)</li>
</ol>
</li>
<li><strong>Query type</strong>: Neighbourhood density can be calculated for one of four
types of inputs:<ol class="loweralpha">
<li><strong>One word in the corpus</strong>: The neighbourhood density of a single word
can be calculated by entering that word’s orthographic representation
in the query box.</li>
<li><strong>One word not in the corpus</strong>: (Note that this will NOT add the word
itself to the corpus, and will not affect any subsequent calculations.
To globally add a word to the corpus itself, please see the
instructions in <a class="reference internal" href="transcriptions_and_feature_systems.html#add-word"><em>Adding a word</em></a>.) Select “Calculate for a word/nonword
in the corpus,” then choose “Create word/nonword” to enter the
new word and do the following:<ol class="lowerroman">
<li><strong>Spelling</strong>: Enter the spelling for your new word / nonword using
the regular input keyboard on your computer.</li>
<li><strong>Transcription</strong>: To add in the phonetic transcription of the new
word, it is best to use the provided inventory. While it is
possible to type directly in to the transcription box, using
the provided inventory will ensure that all characters are
understood by PCT to correspond to existing characters in the
corpus (with their concomitant featural interpretation). Click
on “Show inventory” and then choose to show “Consonants,”
“Vowels,” and/or other. (If there is no featural interpretation
of your inventory, you will simply see a list of all the
available segments, but they will not be classifed by major
category.) Clicking on the individual segments will add them
to the transcription. The selections will remain even when the
sub-inventories are hidden; we allow for showing / hiding the
inventories to ensure that all relevant buttons on the dialogue
box are available, even on small computer screens. Note that you
do NOT need to include word boundaries at the beginning and end
of the word, even when the boundary symbol is included as a member
of the inventory; these will be assumed automatically by PCT.</li>
<li><strong>Frequency and other columns</strong>: These can be left at the default.
Note that entering values will NOT affect the calculation; there
is no particular need to enter anything here (it is an artifact
of using the same dialogue box here as in the “Add Word” function
described in <a class="reference internal" href="transcriptions_and_feature_systems.html#add-word"><em>Adding a word</em></a>).</li>
<li><strong>Create word</strong>: To finish and return to the “String similarity”
dialogue box, click on “Create word.”</li>
</ol>
</li>
<li><strong>List of words</strong>: If there is a specific list of words for which density
is to be calculated (e.g., the stimuli list for an experiment), that
list can be saved as a .txt file with one word per line and uploaded
into PCT for analysis. Note that in this case, if the words <strong>are</strong> in
the corpus, either transcription- or spelling-based neighbourhood
density can be calculated; either way, the words on the list should be
written in standard orthography (their transcriptions will be looked
up in the corpus if needed). If the words are <strong>not</strong> in the corpus, then
only spelling-based neighbourhood density can currently be calculated;
again, the words should be written in orthographically.</li>
<li><strong>Whole corpus</strong>: Alternatively, the neighbourhood density for every word
in the corpus can be calculated. This is useful, for example, if one
wishes to find words that match a particular neighbourhood density.
The density of each word will be added to the corpus itself, as a
separate column; in the “query” box, simply enter the name of that
column (the default is “Neighborhood Density”).</li>
</ol>
</li>
<li><strong>Tier</strong>: Neighbourhood density can be calculated from most of the available
tiers in a corpus (e.g., spelling, transcription, or tiers that
represent subsets of entries, such as a vowel or consonant tier).
(If neighbourhood density is being calculated with phonological edit
distance as the similarity metric, spelling cannot be used.) Standard
neighbourhood density is calculated using edit distance on transcriptions.</li>
<li><strong>Type vs. token frequency</strong>: If the Khorsi algorithm is selected as the
string similarity metric, similarity can be calculated using either
type or token frequency, as described in <a class="reference internal" href="string_similarity.html#khorsi"><em>Khorsi (2012) Similarity Metric</em></a>.</li>
<li><strong>Distance / Similarity Threshold</strong>: A specific threshold must be set to
determine what counts as a “neighbour.” If either of the edit distance
metrics is selected, this should be the maximal distance that is
allowed – in standard calculations of neighbourhood density, this
would be 1, signifying a maximum 1-phone change from the starting
word. If the Khorsi algorithm is selected, this should be the
minimum similarity score that is required. Because this is not the
standard way of calculating neighbourhood density, we have no
recommendations for what value(s) might be good defaults here;
instead, we recommend experimenting with the string similarity
algorithm to determine what kinds of values are common for words
that seem to count as neighbours, and working backward from that.</li>
<li><strong>Output file</strong>: If this option is left blank, PCT will simply return
the actual neighbourhood density for each word that is calculated
(i.e., the number of neighbours of each word). If a file is chosen,
then the number will still be returned, but additionally, a file
will be created that lists all of the actual neighbours for each word.</li>
<li><strong>Results</strong>: Once all options have been selected, click “Calculate
neighborhood density.” If this is not the first calculation, and
you want to add the results to a pre-existing results table, select
the choice that says “add to current results table.” Otherwise,
select “start new results table.” A dialogue box will open, showing
a table of the results, including the word, its neighbourhood density,
the string type from which neighbourhood density was calculated,
whether type or token frequency was used (if applicable), the string
similarity algorithm that was used, and the threshold value. If the
neighbourhood density for all words in the corpus is being calculated,
simply click on the “start new results table” option, and you will be
returned to your corpus, where a new column has been added automatically.</li>
<li><strong>Saving results</strong>: The results tables can each be saved to tab-delimited
.txt files by selecting “Save to file” at the bottom of the window.
Any output files containing actual lists of neighbours are already
saved as .txt files in the location specified (see step 6). If all
neighbourhood densities are calculated for a corpus, the corpus itself
can be saved by going to “File” / “Export corpus as text file,” from
where it can be reloaded into PCT for use in future sessions with the
neighbourhood densities included.</li>
</ol>
<p>Here’s an example of neighbourhood density being calculated on
transcriptions for the entire example corpus, using edit distance
with a threshold of 1:</p>
<a class="reference internal image-reference" href="images/neighdendialog.png"><img alt="images/neighdendialog.png" class="align-center" src="images/neighdendialog.png" style="width: 90%;" /></a>
<p>The corpus with all words’ densities added:</p>
<a class="reference internal image-reference" href="images/neighdencolumn.png"><img alt="images/neighdencolumn.png" class="align-center" src="images/neighdencolumn.png" style="width: 90%;" /></a>
<p>An example of calculating all the neighbours for a given word in the
IPHOD corpus, and saving the resulting list of neighbours to an output file:</p>
<a class="reference internal image-reference" href="images/neighdendialogoutput.png"><img alt="images/neighdendialogoutput.png" class="align-center" src="images/neighdendialogoutput.png" style="width: 90%;" /></a>
<p>The on-screen results table, which can be saved to a file itself:</p>
<a class="reference internal image-reference" href="images/neighdenresults.png"><img alt="images/neighdenresults.png" class="align-center" src="images/neighdenresults.png" style="width: 90%;" /></a>
<p>And the saved output file listing all 45 of the neighbours of <em>cat</em> in the IPHOD corpus:</p>
<a class="reference internal image-reference" href="images/neighdenoutput.png"><img alt="images/neighdenoutput.png" class="align-center" src="images/neighdenoutput.png" style="width: 90%;" /></a>
<p>An example .txt file containing one word per line, that can be uploaded
into PCT so that the neighbourhood density of each word is calculated:</p>
<a class="reference internal image-reference" href="images/neighdeninput.png"><img alt="images/neighdeninput.png" class="align-center" src="images/neighdeninput.png" style="width: 90%;" /></a>
<p>The resulting table of neighbourhood densities for each word on the list
(in the IPHOD corpus, with standard edit distance and a threshold of 1):</p>
<a class="reference internal image-reference" href="images/neighdeninputresults.png"><img alt="images/neighdeninputresults.png" class="align-center" src="images/neighdeninputresults.png" style="width: 90%;" /></a>
<p>To return to the function dialogue box with your most recently used
selections after any results table has been created, click on “Reopen
function dialog.” Otherwise, the results table can be closed and you
will be returned to your corpus view.</p>
<p>.._neighborhood_density_gui:</p>
</div>
<div class="section" id="implementing-the-neighbourhood-density-function-on-the-command-line">
<h2>Implementing the neighbourhood density function on the command line<a class="headerlink" href="#implementing-the-neighbourhood-density-function-on-the-command-line" title="Permalink to this headline">¶</a></h2>
<p>In order to perform this analysis on the command line, you must enter a
command in the following format into your Terminal:</p>
<div class="highlight-python"><div class="highlight"><pre>pct_neighdens CORPUSFILE ARG2
</pre></div>
</div>
<p>...where CORPUSFILE is the name of your <a href="#id4"><span class="problematic" id="id5">*</span></a>.corpus file and ARG2 is either
the word whose neighborhood density you wish to calculate or the name
of your word list file (if calculating the neighborhood density of each
word). The word list file must contain one word (specified using either
spelling or transcription) on each line. You may also use command line
options to change various parameters of your neighborhood density
calculations. Descriptions of these arguments can be viewed by running
<tt class="docutils literal"><span class="pre">pct_neighdens</span> <span class="pre">–h</span></tt> or <tt class="docutils literal"><span class="pre">pct_neighdens</span> <span class="pre">–help</span></tt>. The help text from this
command is copied below, augmented with specifications of default values:</p>
<p>Positional arguments:</p>
<dl class="cmdoption">
<dt id="cmdoption-arg-corpus_file_name">
<tt class="descname">corpus_file_name</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption-arg-corpus_file_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of corpus file</p>
</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption-arg-query">
<tt class="descname">query</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption-arg-query" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of word to query, or name of file including a list of words</p>
</dd></dl>

<p>Optional arguments:</p>
<dl class="cmdoption">
<dt id="cmdoption-h">
<tt class="descname">-h</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption-h" title="Permalink to this definition">¶</a></dt>
<dt id="cmdoption--help">
<tt class="descname">--help</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption--help" title="Permalink to this definition">¶</a></dt>
<dd><p>Show this help message and exit</p>
</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption-a">
<tt class="descname">-a</tt><tt class="descclassname"> ALGORITHM</tt><a class="headerlink" href="#cmdoption-a" title="Permalink to this definition">¶</a></dt>
<dt id="cmdoption--algorithm">
<tt class="descname">--algorithm</tt><tt class="descclassname"> ALGORITHM</tt><a class="headerlink" href="#cmdoption--algorithm" title="Permalink to this definition">¶</a></dt>
<dd><p>The algorithm used to determine distance</p>
</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption-d">
<tt class="descname">-d</tt><tt class="descclassname"> MAX_DISTANCE</tt><a class="headerlink" href="#cmdoption-d" title="Permalink to this definition">¶</a></dt>
<dt id="cmdoption--max_distance">
<tt class="descname">--max_distance</tt><tt class="descclassname"> MAX_DISTANCE</tt><a class="headerlink" href="#cmdoption--max_distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum edit distance from the queried word to consider a word a neighbor.</p>
</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption-s">
<tt class="descname">-s</tt><tt class="descclassname"> SEQUENCE_TYPE</tt><a class="headerlink" href="#cmdoption-s" title="Permalink to this definition">¶</a></dt>
<dt id="cmdoption--sequence_type">
<tt class="descname">--sequence_type</tt><tt class="descclassname"> SEQUENCE_TYPE</tt><a class="headerlink" href="#cmdoption--sequence_type" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the tier on which to calculate distance</p>
</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption-w">
<tt class="descname">-w</tt><tt class="descclassname"> COUNT_WHAT</tt><a class="headerlink" href="#cmdoption-w" title="Permalink to this definition">¶</a></dt>
<dt id="cmdoption--count_what">
<tt class="descname">--count_what</tt><tt class="descclassname"> COUNT_WHAT</tt><a class="headerlink" href="#cmdoption--count_what" title="Permalink to this definition">¶</a></dt>
<dd><p>If &#8216;type&#8217;, count neighbors in terms of their type frequency. If
&#8216;token&#8217;, count neighbors in terms of their token frequency.</p>
</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption-m">
<tt class="descname">-m</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption-m" title="Permalink to this definition">¶</a></dt>
<dt id="cmdoption--find_mutation_minpairs">
<tt class="descname">--find_mutation_minpairs</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption--find_mutation_minpairs" title="Permalink to this definition">¶</a></dt>
<dd><p>This flag causes the script not to calculate neighborhood density,
but rather to find minimal pairs&#8211;see documentation.</p>
</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption-o">
<tt class="descname">-o</tt><tt class="descclassname"> OUTFILE</tt><a class="headerlink" href="#cmdoption-o" title="Permalink to this definition">¶</a></dt>
<dt id="cmdoption--outfile">
<tt class="descname">--outfile</tt><tt class="descclassname"> OUTFILE</tt><a class="headerlink" href="#cmdoption--outfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of output file.</p>
</dd></dl>

<p>EXAMPLE 1: If your corpus file is example.corpus and you want to
calculate the neighborhood density of the word &#8216;nata&#8217; using defaults
for all optional arguments, you would run the following command in your
terminal window:</p>
<div class="highlight-python"><div class="highlight"><pre>pct_neighdens example.corpus nata
</pre></div>
</div>
<p>EXAMPLE 2: Suppose you want to calculate the neighborhood distance of a
list of words located in the file mywords.txt . Your corpus file is again
example.corpus. You want to use the phonological edit distance metric,
and you wish to count as a neighbor any word with a distance less than
0.75 from the query word. In addition, you want the script to produce an
output file called output.txt .  You would need to run the following command:</p>
<div class="highlight-python"><div class="highlight"><pre>pct_neighdens example.corpus mywords.txt -a phonological_edit_distance -d 0.75 -o output.txt
</pre></div>
</div>
<p>EXAMPLE 3: You wish to find a list of the minimal pairs of the word &#8216;nata&#8217;.
You would need to run the following command:</p>
<div class="highlight-python"><div class="highlight"><pre>pct_neighdens example.corpus nata -m
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">String similarity and neighbourhood density</a><ul>
<li><a class="reference internal" href="#about-the-functions">About the functions</a></li>
<li><a class="reference internal" href="#method-of-calculation-neighbourhood-density">Method of calculation: Neighbourhood density</a></li>
<li><a class="reference internal" href="#implementing-the-neighbourhood-density-function-in-the-gui">Implementing the neighbourhood density function in the GUI</a></li>
<li><a class="reference internal" href="#implementing-the-neighbourhood-density-function-on-the-command-line">Implementing the neighbourhood density function on the command line</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="string_similarity.html"
                        title="previous chapter">String similarity and neighbourhood density</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="frequency_of_alternation.html"
                        title="next chapter">Frequency of alternation</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/neighborhood_density.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="frequency_of_alternation.html" title="Frequency of alternation"
             >next</a> |</li>
        <li class="right" >
          <a href="string_similarity.html" title="String similarity and neighbourhood density"
             >previous</a> |</li>
        <li><a href="index.html">Phonological CorpusTools 1.0.0 documentation</a> &raquo;</li>
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2015, PCT.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
  </body>
</html>
